(self.modernJsonp=self.modernJsonp||[]).push([[95813,76183,30811,78039,15685,83896],{701305:e=>{"use strict";var t=[],r=[];e.exports=function(e,a){var n=t.length?t.pop():[],o=r.length?r.pop():[],i=function e(t,r,a,n){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r||"object"!=typeof t||"object"!=typeof r)return!1;var o=Object.prototype.toString,i=o.call(t);if(i!=o.call(r))return!1;switch(i){case"[object String]":return t==String(r);case"[object Number]":return!(isNaN(t)||isNaN(r))&&t==Number(r);case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase}for(var l=a.length;l--;)if(a[l]==t)return n[l]==r;a.push(t),n.push(r);var s=0;if("[object Array]"===i){if((s=t.length)!==r.length)return!1;for(;s--;)if(!e(t[s],r[s],a,n))return!1}else{if(t.constructor!==r.constructor)return!1;if(t.hasOwnProperty("valueOf")&&r.hasOwnProperty("valueOf"))return t.valueOf()==r.valueOf();var c=Object.keys(t);if(c.length!=Object.keys(r).length)return!1;for(var u=0;u<c.length;u++)if(!e(t[c[u]],r[c[u]],a,n))return!1}return a.pop(),n.pop(),!0}(e,a,n,o);return n.length=0,o.length=0,t.push(n),r.push(o),i}},60139:e=>{"use strict";function t(e){return function(){return e}}var r=function(){};r.thatReturns=t,r.thatReturnsFalse=t(!1),r.thatReturnsTrue=t(!0),r.thatReturnsNull=t(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},663620:(e,t,r)=>{"use strict";e.exports=r(60139)},830811:(e,t,r)=>{"use strict";r.d(t,{$Vb:()=>R,$nM:()=>b,AE8:()=>e9,BOn:()=>w,BfK:()=>D,Boy:()=>el,CK8:()=>Q,CTP:()=>s,CcT:()=>ea,DMd:()=>U,DbL:()=>te,E8o:()=>eP,E_l:()=>c,Euu:()=>o,Ev2:()=>e6,FVr:()=>e$,FjJ:()=>tr,Gbb:()=>tt,HO2:()=>eJ,I0I:()=>C,I0k:()=>ec,I6F:()=>ew,IAN:()=>eR,JTq:()=>N,Kuk:()=>eT,Ky9:()=>u,LJq:()=>e2,LUU:()=>eW,Lg3:()=>ek,LyT:()=>eH,M3c:()=>e0,N$G:()=>eN,OOl:()=>eq,O_S:()=>O,P5$:()=>eM,PT2:()=>a,Pgj:()=>H,Pv2:()=>I,QAx:()=>e7,QzT:()=>eQ,R5Y:()=>e8,RfW:()=>P,S6t:()=>eZ,Toi:()=>eD,UCf:()=>ex,UdT:()=>y,Uor:()=>v,UrY:()=>M,UtA:()=>es,Vwl:()=>e3,WOK:()=>eo,Wvu:()=>eS,X3q:()=>ef,XxE:()=>d,YCi:()=>ey,ZNy:()=>eA,Zt2:()=>eX,Zwb:()=>eE,Zy6:()=>e1,_SG:()=>eh,_VP:()=>Z,_Vp:()=>ej,am:()=>ei,b$4:()=>er,bJz:()=>ed,bxr:()=>W,cMj:()=>E,ckK:()=>k,csW:()=>e4,ePR:()=>g,efI:()=>K,f05:()=>ep,fpf:()=>eK,gxR:()=>eY,h5_:()=>ez,h7s:()=>z,hM9:()=>Y,hRj:()=>$,hcw:()=>ev,iJi:()=>G,ieP:()=>p,jOL:()=>em,jRv:()=>n,k95:()=>B,kM5:()=>eu,kdP:()=>eC,kqi:()=>e5,kwM:()=>e_,kz$:()=>et,lWv:()=>eB,mJW:()=>T,nSl:()=>eb,ni8:()=>x,o7L:()=>A,odg:()=>f,pj3:()=>h,pzk:()=>L,qE1:()=>F,qO2:()=>ee,q_y:()=>V,qtB:()=>eV,rP7:()=>i,rhk:()=>S,seF:()=>m,t4R:()=>eg,tPA:()=>J,u2Z:()=>eG,u4w:()=>X,vlc:()=>q,w89:()=>en,wBt:()=>eI,wMN:()=>eU,wdt:()=>j,wvI:()=>eO,xPW:()=>_,xPx:()=>eL,x_d:()=>l,z5V:()=>eF});let a="var(--color-red-pushpin-50)",n="var(--color-red-pushpin-100)",o="var(--color-red-pushpin-200)",i="var(--color-red-pushpin-300)",l="var(--color-red-pushpin-450)",s="var(--color-red-pushpin-500)",c="var(--color-red-pushpin-600)",u="var(--color-red-pushpin-700)",d="var(--color-red-pushpin-800)",p="var(--color-pink-flaminglow-0)",h="var(--color-blue-skycicle-50)",f="var(--color-blue-skycicle-100)",m="var(--color-blue-skycicle-500)",y="var(--color-blue-skycicle-900)",g="var(--color-teal-spabattical-100)",b="var(--color-green-matchacado-900)",v="var(--color-purple-mysticool-100)",S="var(--color-purple-mysticool-300)",k="var(--color-purple-mysticool-500)",P="var(--color-orange-firetini-50)",_="var(--color-orange-firetini-200)",E="var(--color-white-mochimalist-0)",x="var(--color-gray-roboflow-50)",C="var(--color-gray-roboflow-100)",T="var(--color-gray-roboflow-200)",D="var(--color-gray-roboflow-300)",R="var(--color-gray-roboflow-400)",w="var(--color-gray-roboflow-500)",I="var(--color-gray-roboflow-600)",L="var(--color-gray-roboflow-700)",O="var(--color-black-cosmicore-900)",A="var(--color-transparent)",F="var(--color-text-default)",M="var(--color-text-subtle)",H="var(--color-text-inverse)",V="var(--color-icon-brand-primary)",B="var(--color-background-default)",N="var(--color-background-info-base)",j="var(--color-background-info-weak)",U="var(--color-background-error-base)",W="var(--color-background-error-weak)",$="var(--color-background-warning-base)",G="var(--color-background-success-base)",K="var(--color-background-recommendation-weak)",Z="var(--color-background-secondary-base)",z="var(--color-background-inverse-base)",Q="var(--color-background-elevation-accent)",q="var(--color-background-box-default)",X="var(--color-background-box-info-base)",J="var(--color-background-box-info-weak)",Y="var(--color-background-box-error-base)",ee="var(--color-background-box-error-weak)",et="var(--color-background-box-warning-base)",er="var(--color-background-box-warning-weak)",ea="var(--color-background-box-success-base)",en="var(--color-background-box-success-weak)",eo="var(--color-background-box-recommendation-base)",ei="var(--color-background-box-recommendation-weak)",el="var(--color-background-box-shopping)",es="var(--color-background-box-primary)",ec="var(--color-background-box-secondary)",eu="var(--color-background-box-tertiary)",ed="var(--color-background-box-selected)",ep="var(--color-background-box-inverse)",eh="var(--color-background-box-brand)",ef="var(--color-background-box-education)",em="var(--color-background-box-elevation-accent)",ey="var(--color-background-box-elevation-floating)",eg="var(--color-background-box-elevation-raised)",eb="var(--color-background-box-lightwash)",ev="var(--color-background-box-darkwash)",eS="var(--color-background-box-transparentdarkgray)",ek="var(--color-background-box-dark)",eP="var(--color-background-box-light)",e_="var(--color-background-box-transparent)",eE="var(--color-background-button-primary-disabled)",ex="var(--color-background-button-secondary-default)",eC="var(--color-background-button-secondary-hover)",eT="var(--color-background-button-tertiary-hover)",eD="var(--color-background-button-white-hover)",eR="var(--color-background-button-dark-active)",ew="var(--color-background-button-light-hover)",eI="var(--color-background-button-semitransparentdefault-default)",eL="var(--color-background-button-semitransparentdefault-hover)",eO="var(--color-background-formfield-primary)",eA="var(--color-background-formfield-disabled)",eF="var(--color-border-container)",eM="var(--color-border-default)",eH="var(--color-border-error)",eV="var(--color-border-focus)",eB="var(--color-data-visualization-10)",eN="var(--color-data-visualization-11)",ej="var(--color-data-visualization-12)",eU="var(--color-data-visualization-01)",eW="var(--color-data-visualization-02)",e$="var(--color-data-visualization-03)",eG="var(--color-data-visualization-04)",eK="var(--color-data-visualization-05)",eZ="var(--color-data-visualization-06)",ez="var(--color-data-visualization-07)",eQ="var(--color-data-visualization-08)",eq="var(--color-data-visualization-09)",eX="var(--font-size-100)",eJ="var(--font-size-300)",eY="var(--font-family-default-latin)",e0="var(--font-family-code)",e1="var(--rounding-300)",e6="var(--rounding-400)",e3="var(--rounding-pill)",e2="var(--space-100)",e4="var(--space-200)",e8="var(--space-400)",e9="var(--space-500)",e7="var(--space-800)",e5="var(--space-1000)",te="var(--space-1200)",tt="var(--space-1400)",tr="var(--elevation-raised-top)"},115439:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoWrapper_pin",selections:[{args:null,kind:"FragmentSpread",name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin"}],type:"Pin",abstractKey:null};a.hash="35625201030ecf10998f70bc5b4b5501";let n=a},129231:(e,t,r)=>{"use strict";var a,n,o,i;r.r(t),r.d(t,{default:()=>s});let l=(a={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},i=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null}],storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useCalculateMaxWidthAndHeightForSideBySideVariant_pin",selections:[{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,n],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},a,n,{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"UserWebsite",kind:"LinkedField",name:"linkUserWebsite",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null});l.hash="f74f2f62c4eecb2cf72ace142fd51cb3";let s=l},623258:(e,t,r)=>{"use strict";r.d(t,{$A:()=>h,N0:()=>y,N3:()=>f,VK:()=>p,_J:()=>m,mW:()=>d});var a=r(667294),n=r(316886),o=r(992114),i=r(785893);let l={},s={},c=!1,u=(0,a.createContext)({setMetric:()=>void 0,getMetricForComponent:()=>void 0,getMetricsForPath:()=>void 0,setRmaData:()=>void 0});function d({children:e}){let t=(0,a.useCallback)((e,t,r)=>{l[e]||(l[e]={}),l[e][t]=r},[]),r=(0,a.useCallback)((e,t)=>l[e]?.[t],[]),o=(0,a.useCallback)(e=>l[e],[]),d=(0,a.useCallback)(({id:e,path:t,fragmentName:r,executionTime:a,newData:o})=>{if(c)return;let i=`${r}.${e}`;s[t]||(s[t]={}),s[t][i]||(s[t][i]={totalRenderTime:0,previousData:{},renderCount:0,resultUpdatedCount:0});let l=!(0,n.ZP)(o,s[t][i].previousData);s[t][i].totalRenderTime+=a,s[t][i].renderCount+=1,s[t][i].resultUpdatedCount+=+!!l,s[t][i].previousData=o},[]),p=(0,a.useMemo)(()=>({setMetric:t,getMetricForComponent:r,getMetricsForPath:o,setRmaData:d}),[t,r,o,d]);return(0,i.jsx)(u,{value:p,children:e})}function p(){return(0,a.use)(u)}function h(e){return l[e]}function f(e){return["www/index.js","www/homefeed.js"].includes(e)}function m(e){let t=s[e],r={};c=!0,t&&Object.keys(t).length&&f(e)&&Object.entries(t).forEach(([e,t])=>{let[a]=e.split(".");a&&!r[a]&&(r[a]=!0,(0,o.QX)(`render_stats.rma.${a}.renderCount`,t.renderCount,{sampleRate:1}),(0,o.QX)(`render_stats.rma.${a}.resultUpdatedCount`,t.resultUpdatedCount,{sampleRate:1}),(0,o.LY)(`render_stats.rma.${a}`,t.totalRenderTime,{sampleRate:1}))})}function y(){l={},s={},c=!1}},587062:(e,t,r)=>{"use strict";r.d(t,{B:()=>s,Z:()=>c});var a=r(667294),n=r(20256),o=r(233846),i=r(707360),l=r(785893);let s="media-viewer-full";function c({children:e,onOutsideClick:t}){let r=(0,o.ZP)();return(0,l.jsx)(a.Fragment,{children:(0,l.jsxs)(n.xu,{alignItems:"center","aria-label":r.bt("Media Viewer", "Media Viewer", "closeup.mediaViewer.label", undefined, true),"aria-modal":"true","data-test-id":s,display:"flex",height:"100vh",justifyContent:"center",left:!0,position:"fixed",role:"dialog",top:!0,width:"100vw",zIndex:i.k,children:[e,(0,l.jsx)("div",{onClick:e=>{e.target===e.currentTarget&&t()},onKeyDown:e=>{"Escape"===e.key&&t()},role:"presentation",style:{backgroundColor:"rgba(0, 0, 0, 0.85)",backdropFilter:"blur(4px)",position:"absolute",bottom:0,left:0,right:0,top:0,marginBottom:"-1px"}})]})})}},660098:(e,t,r)=>{"use strict";r.d(t,{BI:()=>O,BO:()=>k,Gd:()=>y,J:()=>v,LV:()=>b,MB:()=>L,Re:()=>P,Xw:()=>p,_B:()=>d,aW:()=>f,ff:()=>u,ho:()=>D,ko:()=>I,le:()=>m,ne:()=>x,pl:()=>_,ql:()=>S,rt:()=>E,tD:()=>h,tV:()=>T,tc:()=>R,te:()=>s,tm:()=>C,yc:()=>w,zw:()=>g});var a=r(20256),n=r(830811),o=r(587062),i=r(839284),l=r(460632);let s={boxShadow:"0 1px 20px 0 rgba(0, 0, 0, 0.1)",borderRadius:32},c=e=>e.length>33?"...":"",u=e=>`${e.substring(0,33)}${c(e)}`,d=375,p=4,h=new a.Ry(3),f=new Set(["related_modules_header","related_products_feed_header"]),m=({verticalNavWidth:e})=>({BREAKPOINT:1056+e,BACKBUTTON_WITH_LABEL_WIDE_BREAKPOINT:1340+e,SM_BREAKPOINT:680+e,EXP_SM_BREAKPOINT:860+e}),y=16,g=64,b=290,v=100,S=480,k=new a.Ry(5);function P(e=0,t=0){let{peekCloseupEnabled:r,viewportSize:a}=(0,l.x4)(),n=(0,i.Z)();if(!r)return{maxWidth:void 0,maxHeight:void 0,fiftyPercentWidth:void 0,fiftyPercentHeight:void 0};let o={sm:96,md:96,lg:244}[a],s={sm:g,md:g,lg:g}[a],c=`100vw - ${2*o}px - ${e}px`,u=`100vh - 80px - ${s}px - ${t}px`,d={maxWidth:`calc(${c})`,maxHeight:`calc(${u})`,fiftyPercentWidth:"sm"===a?`calc(${c})`:`calc((${c})/2)`,fiftyPercentHeight:`calc((${u})/2)`};if(n)return d;let p=window?.innerWidth-2*o-e,h=window?.innerHeight-80-s-t;return{...d,numericValues:{maxWidth:p,maxHeight:window?.innerHeight-80-s-t,fiftyPercentWidth:"sm"===a?p:p/2,fiftyPercentHeight:h/2}}}function _({objectFit:e,variant:t}){let{peekCloseupEnabled:r,viewportSize:a}=(0,l.x4)(),{maxHeight:n,maxWidth:i,fiftyPercentHeight:s,fiftyPercentWidth:c}=P();if("media-viewer"===t)return{};let u=`video:not([data-test-id=${o.B}] video)`;return{styleOverrides:r?`
      ${u} {
        max-height: ${"sm"===a?s:n};
        max-width: ${c};
      }
    `:"",objectFit:r?"contain":e,maxHeight:n,maxWidth:i,fiftyPercentHeight:s}}function E({peekCloseupEnabled:e,viewportSize:t,surface:r}){return!!e&&"lg"===t&&"ShoppingGridSmallCarousel"===r}let x={columnSpan:{sm:2,md:2,lg:3,xl:5},type:"closeup_module",virtualize:!1},C={columnSpan:{sm:2,md:4,lg1:4,lg:5,xl:6},type:"closeup_module",virtualize:!1},T={columnSpan:{sm:2,md:2,lg:2,xl:4},type:"shopping_module",virtualize:!1},D=1,R=`${D}px solid ${n._VP}`,w="#FFFFFF",I={boxShadow:"unset",borderRadius:16},L={columnSpan:{sm:1,md:1,lg:1,xl:1},type:"inclusive_filters_module",virtualize:!0},O={closeupWrapperStyle:{cursor:"zoom-out",display:"flex",width:"100%"},storyPinGradientStyle:{display:"block",position:"relative",cursor:"auto"}}},313565:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=({carouselData:e,domain:t})=>{let r="",a=t||"";if(e){let{carouselSlots:t=[]}=e,n=e.index??0;t&&t[n]&&(r=t[n].link||"",a=t[n].domain||a)}return{carouselLink:r,currentDomain:a}}},651646:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u}),r(422578);var a,n=r(313565),o=r(78039),i=r(526319),l=r(839284),s=r(460632);let c=void 0!==a?a:a=r(129231);function u({pinKey:e}){let t,{closeupWithinMasonryEnabled:r}=(0,s.x4)(),a=(0,l.Z)(),u=(0,o.Z)(c,e);if(!r)return{maxHeight:void 0};let d=u?.richMetadata?.products?.[0],p=d?.offerSummary,h=p?.price||p?.standardPrice,f=u?.linkDomain?.officialUser?.firstName,m=!!u?.closeupAttribution?.firstName||f,y=u?.linkUserWebsite?.officialUser?.firstName,g=u?.trackedLink||u?.link||"",b=(0,i.Z)(g)??g,{currentDomain:v}=(0,n.Z)({carouselData:u?.carouselData&&{carouselSlots:u?.carouselData.carouselSlots&&u?.carouselData.carouselSlots.map(e=>({domain:e.domain,link:e.link})),index:u?.carouselData?.index},domain:u?.domain}),S=v.split(".")[0],k=0,P=0;return(t=84+18*!!h,k+=23*!!u?.closeupUnifiedTitle+40*!!m,P+=(y||f||S)&&b?64:0,t+=Math.max(k,P),a)?{maxHeight:`calc(round(100vh, 1px) - 80px - ${t}px)`}:{maxHeight:Math.round(window.innerHeight)-80-t}}},649146:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(967312);function n(){let{checkExperiment:e}=(0,a.F)(),{group:t}=e("webpack_react_profiler");return"enabled_closeup_body_optimization"===t}},775232:(e,t,r)=>{"use strict";function a(e,t){throw Error(t??`Unexpected value in assertNever: ${JSON.stringify(e)}`)}r.d(t,{Z:()=>a})},576183:(e,t,r)=>{"use strict";r.d(t,{G6:()=>o,i7:()=>i,oi:()=>a,u$:()=>n,un:()=>s,vU:()=>l,w1:()=>c});let a=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),n=e=>e?e.includes("Chrome")?a.CHROME:e.includes("Safari")?a.SAFARI:e.includes("Firefox")?a.FIREFOX:e.includes("Opera")?a.OPERA:e.includes("IE")?a.IE:e.includes("Edge")?a.EDGE:a.OTHER:a.OTHER;function o(e){return n(e)===a.SAFARI}function i(e){return n(e)===a.CHROME}function l(e){return n(e)===a.FIREFOX}function s(e){return n(e)===a.EDGE}function c(e){return n(e)===a.IE}},219308:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(19963);let n=()=>(0,a.v)().logContextEvent},993294:(e,t,r)=>{"use strict";r.d(t,{Z:()=>$,G:()=>j});var a=r(441143),n=r.n(a),o=r(244311),i=r(378626);let l={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},s=/(\d\d0P)(\d\d0K)/,c=/QVBR(8|10)/,u=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,d=/^v/,p=e=>l[e]??e.replace(u,"_$1").replace(s,"$1_$2").replace(c,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(d,"V"),h=/[A-Z]/g,f=e=>e.replace(h,e=>`_${e.toLowerCase()}`),m=/^_/,y=e=>e.replace(m,""),g=e=>y(f(e)),b=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],v=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],S=(e,t)=>{if(v.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return n()(t.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return g(e)}},k=e=>"StoryPinPage"===e||"StoryPinImageBlock"===e,P=(e,t,r)=>{if(k(r)){if("images"===e)return"image";else if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===r&&"image"===e)return"images";if("VideoDetail"===t)return p(e);if(b.includes(e))return e;switch(e){case"reactionCountsData":return"reaction_counts";case"videoDataV2":return"video";case"formattedCloseupDescription":return"formatted_description";case"annotationsWithLinksArray":return"annotations_with_links";default:return g(e)}},_=(e,t)=>{switch(e){case"reactionType":return"string"==typeof t?Number(t):t;case"campaignId":case"pinPromotionId":return"number"==typeof t?String(t):t;default:return t}},E=(e,t,r)=>"Video"===t&&"duration"===e?r?.duration!=null?r.duration:Object.values(r?.video_list||{}).find(e=>e?.duration!=null)?.duration:"__typename"===e?t??function(e){if(!e)return null;if("string"==typeof e.type)return(0,i.dF)(e.type);if("number"==typeof e.block_type){let t=e.block_type.toString();return t in O?O[t]:null}return null}(r):_(e,r?.[S(e,r)]),x=({untypedInput:e,concreteType:t})=>{if(!e)return null;switch(n()("object"==typeof e,"legacy data must be an object"),t){case"AnnotationsWithLinks":return Object.entries(e).map(([e,t])=>({name:t.name,url:t.url}));case"MessageReactions":if(Array.isArray(e)&&e.length>0)return e.flatMap(e=>Object.keys(e).map(t=>({user_id:t,reaction_text:e[t]})));return null;case"ReactionCountModel":return Object.entries(e).map(([e,t])=>({reaction_type:e,reaction_count:t}));case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(e).map(([e,t])=>({key:e,data:t}));case"DescriptionSpecDetail":if(Array.isArray(e)){let t=[];return e.forEach(e=>{if(e)for(let r of Object.entries(e))t.push({key:r[0],value:r[1]})}),t}return Object.entries(e).map(([e,t])=>({key:e,value:t}));default:if(Array.isArray(e))return e;return Object.entries(e).map(([e,t])=>({key:e,value:t}))}},C=({args:e,name:t})=>{let r=e.find(e=>e.name===t);return r&&"string"==typeof r.value?r.value:null},T=(e,t,r)=>{let{args:a,name:o,plural:i}=r;if("PinTagChipImagesPerSpec"===t&&"image"===o)return e?.images?.["750x"];let l=e?.[P(o,r.concreteType,t)];if(!l)return l;if("collaboratingUsers"===o){let t=e?.collaborating_users;return null==t?null:{kind:"user_collaborating_users_connection_container",connection:{edges:t.map(e=>({node:e}))}}}let s=C({args:a??[],name:"spec"});if(s){if(n()("object"==typeof l,"value must be an object"),k(t)){let{dominant_color:e,images:t}=l;if(!t)return t;n()("object"==typeof t,"images must be an object");let r=t["orig"===s?"originals":s];return r&&e?{...r,dominant_color:e}:r}return i&&Array.isArray(l)?l.map(e=>e[s]).filter(e=>null!=e):l[s]}return l},D={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent",RichPinProductMetadata:"RichProductMetadata",ConversationMessage:"Message"},R={tempmessage:"message"},w=["article","board","pin","story"],I=e=>"schema"in e&&"string"==typeof e.schema&&w.includes(e.schema),L=(e,t)=>(D[e]??e).toLowerCase()===(R[t]??t),O={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},A=/_/g,F=e=>{if("schema"in e&&"string"==typeof e.schema)return e.schema.toLowerCase();if("string"==typeof e.type)return e.type.replace(A,"").toLowerCase();if("number"==typeof e.block_type){let t=e.block_type.toString();return t in O?O[t].toLowerCase():void 0}};var M=r(942886),H=r(136438);let V=(e,t)=>{let{condition:r,passingValue:a}=e;return t[r]===a};var B=r(48416),N=r(992114);let j=Symbol("inlineFragmentSpread"),U=({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:a,selections:o,legacyData:i,paginationInfo:l,refetchInfo:s,getDataFromRedux:c})=>{for(let u of o)switch(u.kind){case"ScalarField":{let{alias:e,name:t}=u;r[e??t]=E(t,a,i);break}case"LinkedField":{let{alias:o,name:d,concreteType:p,plural:h,selections:f}=u,m=o??d,y=T(i,a,u);if(null==y){r[m]=y;break}if(h){let a=x({untypedInput:y,concreteType:p}),o=r[m];n()(!o||Array.isArray(o),"plural data must be an array"),r[m]=a?.filter(Boolean).map((r,a)=>{let n=o?.[a]??{};return U({conditionContext:e,fragmentName:t,mutableOutput:n,parentType:p,selections:f,legacyData:r,refetchInfo:s,paginationInfo:l,getDataFromRedux:c}),n})}else{n()("object"==typeof y,`Value for ${d} must be an object${p?` with type ${p}`:""}, but a ${typeof y} is given`);let a=r[m]??{};"HasMissingData"===U({conditionContext:e,fragmentName:t,mutableOutput:a,parentType:p,selections:f,legacyData:y,refetchInfo:s,paginationInfo:l,getDataFromRedux:c})?r[m]=null:r[m]=a}break}case"InlineFragment":{let{abstractKey:a,type:o,selections:d}=u;if(n()(null!=o&&null===a,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==i)break;let p=i;I(p)&&(p=c(p.id,p.schema)??i);let h=F(p);if(null!=h&&L(o,h)&&"HasMissingData"===U({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:o,selections:d,legacyData:p,paginationInfo:l,refetchInfo:s,getDataFromRedux:c}))return"HasMissingData";break}case"Condition":{let{selections:n}=u;if(V(u,e)&&"HasMissingData"===U({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:a,selections:n,legacyData:i,paginationInfo:l,refetchInfo:s,getDataFromRedux:c}))return"HasMissingData";break}case"FragmentSpread":(0,H.I9)(r,{kind:"LegacyData",singularLegacyData:i,refetchInfo:s,paginationInfo:l});break;case"ClientExtension":if("HasMissingData"===U({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:a,selections:u.selections,legacyData:i,paginationInfo:l,refetchInfo:s,getDataFromRedux:c}))return"HasMissingData";break;case"InlineDataFragmentSpread":{let t={},{selections:n,name:o}=u;if("HasMissingData"===U({conditionContext:e,fragmentName:o,mutableOutput:t,parentType:a,selections:n,legacyData:i,paginationInfo:l,refetchInfo:s,getDataFromRedux:c}))return"HasMissingData";r[j]||(r[j]={}),r[j][o]=t;break}case"RequiredField":if(U({conditionContext:e,fragmentName:t,mutableOutput:r,parentType:a,selections:[u.field],legacyData:i,paginationInfo:l,refetchInfo:s,getDataFromRedux:c}),null==r[u.field.alias??u.field.name])if("THROW"!==u.action)return"HasMissingData";else throw Error("Required field is null or undefined");break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"ClientEdge":throw Error(`The selection type '${u.kind}' is not supported yet. Contact @jackhsu or @robertbalicki`);default:throw Error("Unexpected selection type")}return"NoMissingData"},W=new Set;function $({conditionContext:e,fragment:t,legacyData:r,paginationInfo:a,refetchInfo:i,stableReferencesExperimentStatus:l,getDataFromRedux:s}){let c,u=(0,o.getFragment)(t);try{c=function({conditionContext:e,fragment:t,legacyData:r,paginationInfo:a,refetchInfo:o,getDataFromRedux:i}){if(null==t.abstractKey){let e=null!=r?F(r):null;null!=e&&n()(L(t.type,e),`fragment data type '${t.type}' does not match legacy data type '${e}'. See http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.`)}let l={};return"NoMissingData"===U({conditionContext:e,fragmentName:t.name,mutableOutput:l,parentType:t.type,selections:t.selections,legacyData:r,paginationInfo:a,refetchInfo:o,getDataFromRedux:i})?l:null}({conditionContext:e,fragment:u,legacyData:r,paginationInfo:a,refetchInfo:i,getDataFromRedux:s})}catch(t){throw W.has(u.name)||(W.add(u.name),(0,N.nP)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:u.name,rootId:r.id,rootType:r.type,url:window.location.href,isAuth:e.isAuth}})),t}let d=r.id;if(!l?.shouldCalculateStableReferences||!d)return c;if(!c)return null;let p=(0,B._0)(u,r.id),h=(0,M.Z)({cacheKey:p,data:c,fragment:u});return l?.shouldUseStableReferences?h:c}},989043:(e,t,r)=>{"use strict";r.d(t,{Z:()=>function e(t,r,i=null){let l={};return!function t(r,i,l,s){let c=function(e,t=null){let r=e.map(e=>"RequiredField"===e.kind?e.field:e),[a,n]=r.reduce((e,t)=>("InlineFragment"===t.kind?e[0].push(t):e[1].push(t),e),[[],[]]);if(1===a.length){let[e,r]=o(n);if(0===r.length){let[r,n]=o(a[0].selections),i=[...e,...r];return 0===i.length?{kind:"Uncategorized"}:{kind:"InlineFragmentWithTypename",typenameAliases:i,selections:n,concreteType:a[0].type,remainingPathCount:t}}}else if(1===r.length&&r[0]?.kind==="Condition"){let e=r[0];if(!e||"Condition"!==e.kind)throw Error("Error on @skip/@include directive");return{kind:"OnlyConditionWrapper",selections:e.selections,remainingPathCount:t}}else if(1===r.length&&"LinkedField"===r[0].kind){let e=r[0],a=e.concreteType??null;if(e.plural&&1!==t)return{kind:"Uncategorized"};if(null==a)return{kind:"OnlyLinkedFieldAndTypename",selections:e.selections,name:e.name,concreteTypeAndAliases:null,remainingPathCount:null==t?null:t-1};let[n,i]=o(e.selections);if(1===t){let t=e.alias??e.name,{pageInfoSelection:r,edgeSelection:a}=function(e){if(0===e.length||e.length>2||e.some(e=>"LinkedField"!==e.kind))throw Error("Unexpected selections");let t=e.reduce((e,t)=>{if("pageInfo"===t.name){if(null!==e.pageInfoSelection)throw Error("Expected only one pageInfo selection");e.pageInfoSelection=t}else{if(null!==e.edgeSelection)throw Error("Expected only one edge selection");e.edgeSelection=t}return e},{pageInfoSelection:null,edgeSelection:null});if(t.edgeSelection&&!t.edgeSelection.selections.find(e=>"node"===e.name))throw Error("Expected to find a node field inside of edges");return{pageInfoSelection:t.pageInfoSelection,edgeSelection:t.edgeSelection}}(i);if(null===a)throw Error("No edges found in connection field");let o=a.alias??a.name,{concreteType:l}=e;if(null==l&&n.length>0)throw Error("No concrete type found in connection field, so we cannot have __typename");let s=null!=l?{concreteType:l,typenameAliases:n}:null;return{kind:"ConnectionFieldAndTypename",selections:a.selections.filter(e=>"ScalarField"!==e.kind||"cursor"!==e.name),pageInfoSelection:r,nameOrAliasOfEdgesField:o,nameOrAliasOfConnectionField:t,concreteTypeAndAliases:s}}return{kind:"OnlyLinkedFieldAndTypename",selections:i,name:e.name,concreteTypeAndAliases:{concreteType:a,typenameAliases:n},remainingPathCount:null==t?null:t-1}}else if(r.length>0&&r.every(e=>"FragmentSpread"===e.kind))return{kind:"OnlyFragmentSpread"};return{kind:"Uncategorized"}}(r,s);switch(c.kind){case"OnlyConditionWrapper":{let{selections:e,remainingPathCount:r}=c;t(e,i,l,r);break}case"InlineFragmentWithTypename":{let{concreteType:e,typenameAliases:r,selections:a,remainingPathCount:n}=c;r.forEach(t=>i[t]=e),t(a,i,l,n);break}case"OnlyFragmentSpread":(0,n.I9)(i,l);break;case"OnlyLinkedFieldAndTypename":{let{name:e,selections:r,concreteTypeAndAliases:a,remainingPathCount:n}=c,o={};if(i[e]=o,a&&a.typenameAliases.length>0){let{concreteType:e,typenameAliases:t}=a;for(let r of t)o[r]=e}t(r,o,l,n);break}case"ConnectionFieldAndTypename":{let{nameOrAliasOfEdgesField:t,nameOrAliasOfConnectionField:r,pageInfoSelection:a,selections:n,concreteTypeAndAliases:o}=c;if("PaginationLegacyData"!==l.kind)throw Error("Error, expected a PaginationLegacyData kind for this query");let s={[t]:l.paginationLegacyData.map(t=>e(n,{kind:"LegacyData",refetchInfo:l.refetchInfo,paginationInfo:l.paginationInfo,singularLegacyData:t}))};if(a&&l.paginationInfo&&(s[a.alias??a.name]=null),null!=o){let{concreteType:e,typenameAliases:t}=o;for(let r of t)s[r]=e}i[r]=s;break}case"Uncategorized":throw Error("The query passed to useLazyLoadQueryOrLegacy contained unsupported/uncategorized elements. Please simplify the query.");default:(0,a.Z)(c,"Unexpected category")}}(t,l,r,i),l}});var a=r(775232),n=r(136438);function o(e){return e.reduce((e,t)=>("ScalarField"===t.kind&&"__typename"===t.name?e[0].push(t.alias??t.name):e[1].push(t),e),[[],[]])}},509936:(e,t,r)=>{"use strict";r.d(t,{g:()=>n,o:()=>o});var a=r(136438);function n(e){if(Array.isArray(e)){let t=e[0];if(null==t)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=t.__fragments)return{kind:"GraphQL",data:e};let r=(0,a.G5)(t);if(null!=r)return{kind:"PluralLegacy",data:e.map(e=>(e=>{let t=(0,a.Be)(e);if("LegacyData"===t.kind)return t.singularLegacyData;throw Error("Unexpected plural object")})(e)),paginationInfo:r.paginationInfo,refetchInfo:r.refetchInfo};throw Error("Expected either __fragments or [legacyDataSymbol]")}let t=(0,a.G5)(e);if(null!=t&&"LegacyData"===t.kind){let{singularLegacyData:e,refetchInfo:r,paginationInfo:a}=t;return{kind:"SingularLegacy",data:e,refetchInfo:r,paginationInfo:a}}if(e.__fragments)return{kind:"GraphQL",data:e};if("graphqlRef"===e.type)return{kind:"GraphQL",data:e.data};if("deprecated"===e.type){let{data:t}=e;return Array.isArray(t)?{kind:"PluralLegacy",data:t,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:t,refetchInfo:null,paginationInfo:null}}if(null!=t&&"PaginationLegacyData"===t.kind){let{paginationLegacyData:e,refetchInfo:r,paginationInfo:a}=t;return{kind:"PaginationLegacyData",paginationLegacyData:e,refetchInfo:r,paginationInfo:a}}throw Error("Invalid value")}function o(e){return n(e).kind}},942886:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var a=r(993294),n=r(136438);function o(e,t,r){if(null===r)return null===t?t:r;if(void 0===r)return void 0===t?t:r;if(Array.isArray(r)){if(!Array.isArray(t))return r;if(r.length!==t.length)return r;let a=!0;for(let n=0;n<r.length;n+=1){let i=o(e,t[n],r[n]);i!==t[n]?a=!1:r[n]=i}return a?t:r}switch(e.kind){case"ScalarField":return t===r?t:r;case"LinkedField":case"InlineDataFragmentSpread":if(null==t)return r;return i({fragmentSelections:e.selections,oldSourceObject:t,newSourceObject:r});default:throw Error("Unexpected case.")}}function i({fragmentSelections:e,oldSourceObject:t,newSourceObject:r}){let i=!0,l=[e];for(;l.length>0;){let e=l.pop();if(!e)break;for(let s=0;s<e.length;s+=1){let c=e[s];switch(c?.kind){case"LinkedField":case"ScalarField":{let{alias:e,name:a}=c,n=e??a,l=t[n],s=o(c,l,r[n]);s!==l?i=!1:r[n]=s;break}case"FragmentSpread":{let e=(0,n.G5)(r);e&&(0,n.I9)(t,e);break}case"InlineDataFragmentSpread":{let{name:e}=c,n=t?.[a.G]?.[e];o(c,n,r?.[a.G]?.[e])!==n&&(i=!1);break}case"ClientExtension":case"Condition":l.push(c.selections);break;case"InlineFragment":{let e=c.type;r.__typename===e&&(t.__typename===r.__typename?l.push(c.selections):i=!1);break}case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"RequiredField":case"ClientEdge":case void 0:throw Error(`The selection type '${c?.kind}' is not supported yet`);default:throw Error("Unexpected case")}}}return i?t:r}var l=r(48416);function s({fragment:e,cacheKey:t,data:r}){let a=(0,l.aL)(t),n=r;if(null!=a){let o=i({oldSourceObject:a.data,newSourceObject:r,fragmentSelections:e.selections});o!==a.data&&(0,l.ax)(t,{count:a.count,data:o}),n=o}else(0,l.ax)(t,{count:0,data:r});return(0,l.U5)(t),setTimeout(()=>(0,l.H8)(t),3e4),n}},136438:(e,t,r)=>{"use strict";r.d(t,{Be:()=>o,G5:()=>n,I9:()=>i});let a=Symbol("legacyData");function n(e){return e[a]}function o(e){return e[a]}function i(e,t){return e[a]=t,e}},378626:(e,t,r)=>{"use strict";r.d(t,{O7:()=>o,dF:()=>u,dX:()=>s,pm:()=>l,tx:()=>i});var a=r(174646),n=r(538645);let o=()=>{let{isAuthenticated:e}=(0,a.B)();return{isAuth:!!e,isDesktop:(0,n.HG)()}},i={" $fragmentSpreads":void 0," $fragmentType":void 0};function l(e){let{isAuthParam:t,isDesktop:r,authDesktopQuery:a,authMobileQuery:n,unauthDesktopQuery:o,unauthMobileQuery:i}=e;return t?r?a:n:r?o:i}function s(e){let{isAuthParam:t,isDesktop:r,authDesktopFragment:a,authMobileFragment:n,unauthDesktopFragment:o,unauthMobileFragment:i}=e;return t?r?a:n:r?o:i}let c=/(?:^|_)([a-z])/g;function u(e){return e.replace(c,(e,t)=>t.toUpperCase())}},48416:(e,t,r)=>{"use strict";r.d(t,{H8:()=>c,Ly:()=>l,U5:()=>s,_0:()=>p,aL:()=>u,ax:()=>d,w3:()=>h});var a=r(967312),n=r(174646),o=r(992114);let i=new Map;function l(e){let t=(0,a.F)(),{isAuthenticated:r}=(0,n.B)();if(!e)return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1};switch(t.checkExperiment(r?"auth_web_gql_stable_refs":"unauth_web_gql_stable_refs").group){case"control":default:return{shouldCalculateStableReferences:!1,shouldUseStableReferences:!1};case"enabled":return{shouldCalculateStableReferences:!0,shouldUseStableReferences:!0};case"enabled_only_calculation":return{shouldCalculateStableReferences:!0,shouldUseStableReferences:!1}}}function s(e){let t=i.get(e);t&&i.set(e,{count:t.count+1,data:t.data})}function c(e){let t=i.get(e);if(!t){let t=e.split("/")[0];throw(0,o.nP)("autoLegacyAdapter.stableReferences.cacheItemMissing",{sampleRate:1,tags:{fragmentName:t}}),Error(`Item with key ${e} not found in cache`)}if(1===t.count)return void i.delete(e);i.set(e,{count:t.count-1,data:t.data})}function u(e){return i.get(e)}function d(e,t){i.set(e,t)}function p(e,t){return`${e.name}/${t}`}function h(e,t,r){return t?{key:p(e,t),data:r}:null}},744364:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var a=r(667294),n=r(244311),o=r(993294),i=r(989043),l=r(942886),s=r(378626),c=r(48416),u=r(992114);let d=function(e,t,r,d,p){let h=(0,c.Ly)(r),f=(0,s.O7)(),m=(0,a.useMemo)(()=>{if(t?.kind==="SingularLegacy"&&d(t)){let{data:r,refetchInfo:a,paginationInfo:n}=t,i=(0,o.Z)({conditionContext:f,fragment:e,legacyData:r,paginationInfo:n,refetchInfo:a,stableReferencesExperimentStatus:h,getDataFromRedux:p});return{itemsToRetain:[{legacyData:r,graphQLShapedData:i}],autoLegacyAdapterData:[i]}}if(t?.kind==="PluralLegacy"){let{data:r,refetchInfo:a,paginationInfo:n}=t,i=[],l=[];return r.forEach(t=>{let r=(0,o.Z)({conditionContext:f,fragment:e,legacyData:t,paginationInfo:n,refetchInfo:a,stableReferencesExperimentStatus:h,getDataFromRedux:p});i?.push(r),l?.push({legacyData:t,graphQLShapedData:r})}),{itemsToRetain:l,autoLegacyAdapterData:i}}if(t?.kind==="PaginationLegacyData"){let r=e?.metadata?.connection?.[0]?.path?.length??null,a=(0,i.Z)(e.selections,t,r),o=a;if("Query"===e.type&&h.shouldCalculateStableReferences){let t=(0,c._0)(e,n.ROOT_ID);o=(0,l.Z)({cacheKey:t,data:a,fragment:e})}return{itemsToRetain:[{graphQLShapedData:o,legacyData:{id:"Query"===e.type?n.ROOT_ID:null}}],autoLegacyAdapterData:[a]}}return null},[t?.kind==="PaginationLegacyData"?t.paginationLegacyData:t?.data]);return!function({items:e,shouldCalculateStableReferences:t}){(0,a.useEffect)(()=>{if(e&&t)return e.forEach(e=>{let{key:t,data:r}=e;if(!(0,c.aL)(t)){let e=t.split("/")[0];(0,u.nP)("autoLegacyAdapter.stableReferences.useRetainWhileMounted.cacheItemMissing",{sampleRate:1,tags:{fragmentName:e}}),(0,c.ax)(t,{count:0,data:r})}(0,c.U5)(t)}),()=>{e.forEach(({key:e})=>(0,c.H8)(e))}},[e?.map(({key:e})=>e).join(","),t])}({items:m?.itemsToRetain?.map(t=>{let{legacyData:r,graphQLShapedData:a}=t,o=r&&"id"in r&&"string"==typeof r.id?r.id:null;return(0,c.w3)(e,"Query"===e.type?n.ROOT_ID:o,a)}).filter(e=>null!=e),shouldCalculateStableReferences:h.shouldCalculateStableReferences}),m?.autoLegacyAdapterData}},78039:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var a=r(422578),n=r(244311),o=r(775232),i=r(667294),l=r(509936),s=r(744364),c=r(314248),u=r(623258),d=r(967312),p=r(438596);let h=()=>{},f=()=>{let e=(0,p.MM)(),{setRmaData:t}=(0,u.VK)(),{checkExperiment:r}=(0,d.F)(),a=(0,i.useCallback)((r,a,o,i)=>{let l=performance.now()-a,s=(0,n.getFragment)(r),c=o&&"id"in o&&"string"==typeof o.id?o.id:null;c&&t({id:c,path:e,fragmentName:s.name,executionTime:l,newData:i})},[e,t]);return(0,u.N3)(e)&&r("web_render_performance_rma").anyEnabled?a:h},m=function(e,t){let r=performance.now(),u=f(),d=function(e,t){let{getDataFromRedux:r}=(0,c.Z)(),a=t?(0,l.g)(t):null,o=a?.kind!=="GraphQL",i=(0,n.getFragment)(e);if(!o)return{dataKey:a,isUsingALA:o,actualFragment:i,autoLegacyAdapterData:null};let u=(0,s.Z)(i,a,o,()=>!0,r);return null===t||null==a?null:{dataKey:a,isUsingALA:o,actualFragment:i,autoLegacyAdapterData:u}}(e,t);if(!function(e,t){let r=(0,i.useRef)(null);if(null!=e){if(null==r.current)r.current=e;else if(r.current!==e)throw Error(`${t()}: reference type mismatch: expected ${r.current}, but received ${e}.`)}}(d?.dataKey.kind,()=>(0,n.getFragment)(e).name),null==d)return null;let{dataKey:p,actualFragment:h,autoLegacyAdapterData:m}=d;switch(p.kind){case"SingularLegacy":return u(e,r,p.data,m?.[0]),m?.[0];case"PluralLegacy":return u(e,r,p.data,m),m;case"GraphQL":return(0,a.useFragment)(e,p.data);case"PaginationLegacyData":if(Array.isArray(t))throw Error("Unexpected Plural fragment");if(null!=(h?.metadata?.connection?.[0]?.path?.length??null))throw Error("Unexpected fragment containing a @connection directive. You should read this fragment with usePaginationFragmentOrLegacy instead.");return m?.[0];default:return(0,o.Z)(p,"Unexpected case")}}},314248:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var a=r(667294),n=r(545007);function o(){let e=(0,a.useContext)(n.ET),t=e?.store?.getState();return{getDataFromRedux:(e,r)=>"pin"===r?t?.pins?.[e]:"story"===r?t?.stories?.[e]:"board"===r?t?.boards?.[e]:"article"===r?t?.articles?.[e]:null}}},348332:(e,t,r)=>{"use strict";r.d(t,{AS:()=>c,Ps:()=>o,Q6:()=>h,ZP:()=>u,le:()=>f,qe:()=>d,yU:()=>p});var a=r(316886),n=r(136388);let o=(e,t)=>e.length===t.length&&e.every((e,r)=>(0,n.Z)(e,t[r])),i=(e,t)=>e.length===t.length&&e.every((e,r)=>e===t[r]),l=e=>e;function s(e,t=i,r=l){return function(a){let n=[];return function(...o){let i=n.find(e=>t(e.args,r(o)));if(i)return i.result;let l=a(...o);return n.push({args:r(o),result:l}),e&&n.length>e&&n.shift(),l}}}function c(e,t=i,r=l){let a=[];return{memoize:function(n){return function(...o){let i=r(o),l=a.find(e=>t(e.args,i));if(l)return l.result;let s=n(...o);return a.push({args:i,result:s}),e&&a.length>e&&a.shift(),s}},clearCache:function(){a=[]}}}let u=s(),d=s(1),p=s(void 0,i,e=>[JSON.stringify(e)]),h=s(0,o),f=s(0,(e,t)=>e.length===t.length&&e.every((e,r)=>(0,a.ZP)(e,t[r])))},757686:(e,t,r)=>{"use strict";r.d(t,{Wr:()=>d,Hx:()=>h,RC:()=>p});var a=r(667294),n=r(218291),o=r(672054),i=r(717534),l=r(785893);let s=()=>Promise.resolve().then(r.bind(r,672054)),{Provider:c,useHook:u}=(0,n.Z)("IdeaPinVideoPlayer");function d({children:e}){let[t,r]=(0,i.Z)(s,o.initialState),n=(0,a.useMemo)(()=>({dispatch:r,ideaPinVideoPlayerControls:t}),[r,t]);return(0,l.jsx)(c,{value:n,children:e})}function p(){let{dispatch:e}=u();return(0,a.useMemo)(()=>({updateSeekTime:(t,r)=>{e({type:"UPDATE_SEEK_TIME",payload:{seekTime:t,pinId:r||""}})},clearSeekTime:t=>{e({type:"CLEAR_SEEK_TIME",payload:{seekTime:void 0,pinId:t||""}})}}),[e])}function h(){let{ideaPinVideoPlayerControls:e}=u();return e}},672054:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n,initialState:()=>a});let a={seekTimes:{},currentProgressInfo:{currentTime:0,duration:0}};function n(e=a,t){switch(t.type){case"UPDATE_SEEK_TIME":return{...e,seekTimes:{...e.seekTimes,[t.payload.pinId]:t.payload.seekTime}};case"CLEAR_SEEK_TIME":return{...e,seekTimes:{}};default:return e}}},526319:(e,t,r)=>{"use strict";function a(e){try{return decodeURIComponent(e)}catch{return null}}r.d(t,{Z:()=>a})},717534:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(667294);function n(e,t){let r=(0,a.useRef)([]),[n,o]=(0,a.useState)(),[i,l]=(0,a.useReducer)(n??(()=>t),t),s=(0,a.useCallback)(t=>{n?l(t):(r.current.length||e().then(e=>{o(()=>e.default)}),r.current=[...r.current,t])},[e,n]);return(0,a.useEffect)(()=>{n&&(r.current.forEach(l),r.current=[])},[n]),[i,s]}},839284:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var a=r(667294);let n=()=>()=>{},o=()=>!1,i=()=>!0,l=()=>(0,a.useSyncExternalStore)(n,o,i)},422908:(e,t,r)=>{"use strict";r.d(t,{H:()=>c,W:()=>u});var a=r(667294),n=r(19963),o=r(218291),i=r(967312),l=r(785893);let{Provider:s,get:c}=(0,o.Z)("VideoPlayer");function u({children:e}){let{logContextEvent:t,logImpression:r}=(0,n.v)(),{checkExperiment:o}=(0,i.F)(),[c,u]=(0,a.useState)(!1),[d,p]=(0,a.useState)([]),[h,f]=(0,a.useState)([]),[m,y]=(0,a.useState)({}),g=o("web_ads_mrc_video_impression").anyEnabled,b=e=>{y(t=>({...t,[e]:!0}))},v=(0,a.useCallback)(e=>{if(18===e.event_type&&e.event_data?.pinImpressions?.length){let{isNativeVideoAndWatchable:t}=e.event_data.pinImpressions[0],r=JSON.stringify(e.aux_data?.commerce_data||"").includes("story_pin_id");g&&(t||r)&&p(t=>[...t,e].slice(-1e3))}},[g]),S=(0,a.useCallback)(e=>{18===e.eventType&&g&&f(t=>[...t,e].slice(-1e3))},[g]),k=e=>{let{time:t}=e.event_data.pinImpressions[0];return{...e,event_data:{...e.event_data,pinImpressions:[{...e.event_data.pinImpressions[0],isMrcBtr:!0,endTime:t,renderDuration:0}]}}},P=e=>{if(e.eventData){let{time:t}=e.eventData;return{...e,eventData:{...e.eventData,isMrcBtr:!0,endTime:t??0}}}return null};(0,a.useEffect)(()=>{let e=d.filter(e=>{let{pinIdStr:r}=e.event_data.pinImpressions[0];return!m[r]||!g||(t(k(e)),!1)});e.length!==d.length&&p(e)},[d,g,t,m]),(0,a.useEffect)(()=>{let e=h.filter(e=>{let t=e.eventData?.pinIdStr;if(!t)return!1;if(m[t]&&g){let t=P(e);return t&&r(t),!1}return!0});e.length!==h.length&&f(e)},[h,g,r,m]);let _=(0,a.useMemo)(()=>({captionsEnabled:c,logMrcVideoAdImpressionOnPlay:S,logMrcVideoAdEventOnPlay:v,setCaptionsEnabled:u,setVideoPlayed:b,videosPlayed:m}),[c,v,S,m]);return(0,l.jsx)(s,{value:_,children:e})}},606688:(e,t,r)=>{"use strict";r.d(t,{$f:()=>n,Cy:()=>s,DR:()=>a,Fm:()=>l,bR:()=>i,gJ:()=>o,lG:()=>c});let a=1,n=2,o=1e3,i=1e3,l=1e3,s=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),c=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4})},460632:(e,t,r)=>{"use strict";r.d(t,{Nb:()=>s,Of:()=>c,ZP:()=>f,bq:()=>p,x4:()=>h});var a=r(667294),n=r(649146),o=r(348332),i=r(437318),l=r(785893);let s=(0,o.qe)(({paneWidth:e,showCloseupContentRight:t,showProductDetailPage:r,viewportSize:a,maxWidth:n,descriptionPaneWidth:o,isCommentAttachmentSelectorOpen:i,isCommentComposerFocused:l,isCommentPopoverInteractionActive:s,isCommentThreadExpanded:c,isMediaViewerOpen:u,isProductDetailsExpanded:d,isShoppingModuleExpanded:p,setIsCommentAttachmentSelectorOpen:h,setIsCommentComposerFocused:f,setIsCommentPopoverInteractionActive:m,setIsCommentThreadExpanded:y,setIsMediaViewerOpen:g,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:v,closeupWithinMasonryEnabled:S,peekCloseupEnabled:k,setAbortNoActionPlacementTimeout:P,clientTrackingParams:_,isCloseupMediaViewerOpen:E,setIsCloseupMediaViewerOpen:x,calculatedImageHeight:C,setCalculatedImageHeight:T})=>({paneWidth:e,showCloseupContentRight:t,showProductDetailPage:r,viewportSize:a,maxWidth:n,descriptionPaneWidth:o,isCommentAttachmentSelectorOpen:i,isCommentComposerFocused:l,isCommentPopoverInteractionActive:s,isCommentThreadExpanded:c,isCloseupMediaViewerOpen:E,isMediaViewerOpen:u,isProductDetailsExpanded:d,isShoppingModuleExpanded:p,setIsCommentAttachmentSelectorOpen:h,setIsCommentComposerFocused:f,setIsCommentPopoverInteractionActive:m,setIsCommentThreadExpanded:y,setIsCloseupMediaViewerOpen:x,setIsMediaViewerOpen:g,setIsProductDetailsExpanded:b,setIsShoppingModuleExpanded:v,closeupWithinMasonryEnabled:S,peekCloseupEnabled:k,setAbortNoActionPlacementTimeout:P,clientTrackingParams:_,calculatedImageHeight:C,setCalculatedImageHeight:T})),c={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:i.Gg,maxWidth:i.u6,descriptionPaneWidth:i.u6-i.Gg,isCommentAttachmentSelectorOpen:!1,isCommentComposerFocused:!1,isCommentPopoverInteractionActive:!1,isCommentThreadExpanded:!1,isCloseupMediaViewerOpen:!1,isMediaViewerOpen:!1,isShoppingModuleExpanded:!1,closeupWithinMasonryEnabled:!1,peekCloseupEnabled:!1,calculatedImageHeight:0,setAbortNoActionPlacementTimeout:()=>{},setIsCloseupMediaViewerOpen:()=>{},setIsCommentAttachmentSelectorOpen:()=>{},setIsCommentComposerFocused:()=>{},setIsCommentPopoverInteractionActive:()=>{},setIsMediaViewerOpen:()=>{},setIsShoppingModuleExpanded:()=>{},setCalculatedImageHeight:()=>{},setViewportSize:()=>{}},u=(0,a.createContext)(c),d=(0,a.createContext)(c);function p({children:e,value:t}){let r=(0,a.useMemo)(()=>({...c,...t}),[t]);return(0,l.jsx)(d,{value:r,children:e})}function h(){let e=(0,n.Z)(),t=(0,a.useContext)(e?d:u);if(!t)throw Error("useCloseupContext must be used within CloseupContextProvider");return t}let f=u},437318:(e,t,r)=>{"use strict";r.d(t,{$T:()=>m,CI:()=>i,Ch:()=>s,ER:()=>f,Gb:()=>c,Gg:()=>n,Hf:()=>b,Ie:()=>d,KP:()=>p,Kn:()=>l,O5:()=>y,d2:()=>u,fF:()=>S,g9:()=>h,iB:()=>v,rv:()=>g,u6:()=>o});var a=r(20256);let n=508,o=1016,i=488,l=992,s=672,c=1176,u=40,d=72,p=740,h=32,f=16,m=24,y=2,g=1,b=new a.Ry(5),v={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"},S={boxShadow:"0 2px 5px rgba(0, 0, 0, 0.06)",transition:"box-shadow 200ms ease-in-out"}},707360:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});let a=new(r(20256)).Ry(700)},380122:(e,t,r)=>{"use strict";r.r(t),r.d(t,{VideoWrapper:()=>O,default:()=>A,testExports:()=>L});var a,n=r(667294);r(422578);var o=r(660098),i=r(651646),l=r(576183),s=r(78039),c=r(174646),u=r(757686),d=r(178716),p=r(422908),h=r(472856),f=r(460632),m=r(20256),y=r(19963),g=r(970601),b=r(882368),v=r(461901),S=r(491646),k=r(794547),P=r(606688),_=r(514674),E=r(785893);function x(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){return e&&void 0!==e?"string"==typeof e?e:Array.isArray(e)&&e[0].src?e[0].src:`unsupported_type_${typeof e}`:"undefined"}class T extends n.Component{constructor(...e){super(...e),x(this,"state",{canPlayVideo:!1,playbackState:P.Cy.DEFAULT,videoStartTime:this.props.seekTime?this.props.seekTime:this.props.videoStartTime||0}),x(this,"errorRetryCount",2),x(this,"hasSegmentStarted",!1),x(this,"hasPlaybackStarted",!1),x(this,"hasVideoSessionStarted",!1),x(this,"hasVideoSessionEnded",!1),x(this,"lastStallTime",null),x(this,"lastPauseTime",null),x(this,"logSessionStartOnNextPlay",!1),x(this,"playerId",""),x(this,"videoSessionId",""),x(this,"videoVisibleTime",void 0),x(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:this.props.src?C(this.props.src):void 0,totalStallDurationMs:0,totalPauseDurationMs:0,userAgent:this.props.userAgent,webBrowser:this.props.webBrowser,webBrowserVersion:this.props.webBrowserVersion}),x(this,"componentDidMount",()=>{let{contextLogData:e={},playing:t}=this.props,{is_closeup_video:r=!1}=e;(0,k.tE)("videoMounted",!1,r),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(P.DR,{initiator:"mount"}));let a=this.videoPlayerRef?.video?.textTracks[0];a&&a.addEventListener("cuechange",()=>{let e=a.activeCues&&a.activeCues.length>0&&a.activeCues[0];e&&e.line&&(e.line=-6,e.size=88)})}),x(this,"componentDidUpdate",e=>{let{playing:t,visible:r,appInFocus:a,seekTime:n,captionsEnabled:o}=this.props;n&&n!==e.seekTime&&this.setState({videoStartTime:n});let i=this.videoPlayerRef?.video?.textTracks[0];i&&(o?i.mode="showing":i.mode="disabled"),e.appInFocus&&!a&&(this.logPlaybackPerformance(P.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===r&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(P.$f,{initiator:"update"})),!1===e.visible&&!0===r&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(P.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&a&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(P.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}),x(this,"addSegment",()=>{let{canPlayTime:e,loadStartTime:t,segments:r,srcString:a}=this.playbackPerformance,n=-1;e&&t&&0===r.length&&(n=e>t?e.getTime()-t.getTime():0);let o=this.videoPlayerRef&&this.videoPlayerRef.video,i={indicatedKbps:-1,duration:o&&o.duration*P.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:n,switchBitrateKbps:-1,uri:a,viewportWidth:o&&o.clientWidth||-1,viewportHeight:o&&o.clientHeight||-1,watchedDurationMs:0};r.push(i)}),x(this,"getCurrentVideoTime",()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*P.gJ:0),x(this,"getVideoResourceTiming",()=>{if(window?.performance?.getEntriesByName&&this.playbackPerformance.srcString){let e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null}),x(this,"handleCanPlayVideo",e=>{let{contextLogData:t={},onReady:r,playing:a}=this.props,{is_closeup_video:n=!1}=t,{canPlayVideo:o}=this.state;(0,k.tE)("handleCanPlayVideo",!1,n,{firstCanPlayEvent:!o,playing:a}),this.playbackPerformance.hasFatalError=!1,o||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),r&&r(e)}),x(this,"handleEnded",e=>{let{loop:t,onEnded:r}=this.props,{segments:a}=this.playbackPerformance,n=a&&a[a.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),n&&(n.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(P.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:P.Cy.ENDED}),r&&r(e)}),x(this,"handleError",()=>{let{contextLogData:e={}}=this.props,{is_closeup_video:t=!1}=e,r=this.videoPlayerRef&&this.videoPlayerRef.video;r?.error?.code!==P.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${r?.error?.message||""}`,this.playbackPerformance.errorCode=r?.error?.code||0,this.playbackPerformance.errorName=r?.error?.message?.slice(0,100)||"unknown",this.playbackPerformance.errorReason=r?.error?.message?.slice(0,100)||"unknown";let a={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:r?.networkState||"unknown"};switch((0,k.tE)("fatalError",!1,t,a),r?.error?.code){case P.lG.MEDIA_ERR_ABORTED:break;case P.lG.MEDIA_ERR_NETWORK:case P.lG.MEDIA_ERR_DECODE:case P.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(r?.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:P.Cy.FAILED})}),x(this,"handleLoadedMetadata",()=>{this.setState({playbackState:P.Cy.LOADED_METADATA})}),x(this,"handleLoadStart",()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:P.Cy.LOAD_START})}),x(this,"handleLoadedData",()=>{this.setState({playbackState:P.Cy.LOADED_DATA})}),x(this,"handlePlaying",e=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:P.Cy.PLAYING}),this.props.clearSeekTime&&this.props.clearSeekTime(),this.props.onPlaying&&this.props.onPlaying(e)}),x(this,"handleUserPause",({event:e})=>{let{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t({event:e})}),x(this,"handleVideoPause",()=>{this.state.playbackState!==P.Cy.STALLING&&this.state.playbackState!==P.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:P.Cy.PAUSED})}),x(this,"handleSeeking",()=>{this.playbackPerformance.numberOfSeeks+=1;let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==P.Cy.ENDED&&this.setState({playbackState:P.Cy.SEEKING})}),x(this,"handleStalled",()=>{null===this.lastStallTime&&this.state.playbackState!==P.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:P.Cy.STALLING}))}),x(this,"handleTimeUpdate",e=>{let{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===P.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())}),x(this,"resetPlaybackMetrics",()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;let e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]}),x(this,"setLastSegmentStartPlayTime",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())}),x(this,"setLastSegmentPlaybackStartDate",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())}),x(this,"setPlaybackStartTime",()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)}),x(this,"setVideoPlayerRef",e=>{let{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){let e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}}),x(this,"updateStallDuration",()=>{if(null!==this.lastStallTime){let{lastStallTime:e}=this;this.playbackPerformance.totalStallDurationMs+=Date.now()-e.getTime(),this.lastStallTime=null}}),x(this,"updatePauseDuration",()=>{if(null!==this.lastPauseTime){let{lastPauseTime:e}=this;this.playbackPerformance.totalPauseDurationMs+=Date.now()-e.getTime(),this.lastPauseTime=null}}),x(this,"updateWatchDurationForCurrentSegment",()=>{let{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],r=t?t.lastStartPlayTime:null,a=this.getCurrentVideoTime();if(t&&null!==r&&"number"==typeof a&&"number"==typeof r){let e=a-r;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}}),x(this,"logPlaybackPerformance",(e,t)=>{let{contextLogData:r={},userId:a,isAutoPlay:n,logContextEvent:o,preload:i,userAgent:l,webBrowser:s,webBrowserVersion:c}=this.props,{is_closeup_video:u=!1}=r,{canPlayTime:d,detailedErrors:p,errorCode:h,errorName:f,errorReason:m,hasFatalError:y,loadStartTime:g,totalPauseDurationMs:b,totalStallDurationMs:_,numberOfStalls:E,numberOfSeeks:x,playbackStartTimestamp:C,segments:T,srcString:D}=this.playbackPerformance,R=this.videoPlayerRef&&this.videoPlayerRef.video,w=e===P.DR,I=w&&!this.hasVideoSessionStarted,L=!w&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(R&&(I||L)){let I=-1;d&&g&&(I=d>g?d.getTime()-g.getTime():0);let L=-1;d&&this.videoVisibleTime&&(L=d>this.videoVisibleTime?d.getTime()-this.videoVisibleTime.getTime():0),w&&(this.videoSessionId=(0,S.Z)(a),this.playerId=this.playerId||(0,v.Z)());let O=this.getVideoResourceTiming(),A={averageVideoKbps:-1,autoplaying:n,detailedErrors:p,downloadedKiloBytes:"number"==typeof O?.decodedBodySize&&O.decodedBodySize/P.Fm||0,errorCode:h,errorName:f,errorReason:m,fatalError:y,isCellular:!1,nativeVideoDurationMs:R.duration*P.gJ||-1,numberOfStalls:E,numberOfSeeks:x,overallPausedDurationMs:b,overallBufferDurationMs:_,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:C||-1,segments:[],sessionMark:e,screenPixelScale:window?.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:R.clientWidth,startupPlayerHeight:R.clientHeight,startupTimeMs:I,startupLatencyMs:L,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:R.videoWidth,startupVariantHeight:R.videoHeight,videoUrl:D,wasVideoPreloaded:"auto"===i};if(!w){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();let e=T.reduce((e,t)=>e+(t.watchedDurationMs||0),0);A.overallWatchedDurationMs=e,A.startupVariantWatchedDurationMs=e,A.segments=this.playbackPerformance.segments,0===e?(A.errorName="invalid_watch_duration",A.rebufferRate=-1):A.rebufferRate=_/e}(0,k.ZP)(A,!1,u,{playbackState:this.state.playbackState,...t});let{view:F,viewParameter:M,component:H,element:V,objectId:B,...N}=r;o({event_type:3606,event_data:{videoPerformanceData:A},view_type:F,view_parameter:M,component:H,element:V,object_id_str:B,aux_data:{...N,is_closeup_video:u,playback_session_id:this.videoSessionId,user_agent:l,web_browser:s,web_browser_version:c}}),w?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,k.tE)(w?"sessionStart":"sessionEnd",!1,u,{playbackState:this.state.playbackState,...t})}})}componentWillUnmount(){let{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(P.$f,{initiator:"unmount",loop:e})}render(){let{aspectRatio:e,backgroundColor:t,captions:r,closeupWithinMasonryEnabled:a,controls:n,fiftyPercentHeight:o,loop:i,loopOverride:l,maxHeight:s,maxWidth:c,objectFit:u,onDurationChange:d,onFullscreenChange:p,onLoadedChange:h,onControlsPlay:f,onPlayheadDown:y,onPlayheadUp:b,onSeek:v,onVolumeChange:S,styleOverrides:k,peekCloseupEnabled:P,playbackRate:x,playing:T,playsInline:D,poster:R,preload:w,src:I,viewportSize:L,volume:O}=this.props,{canPlayVideo:A,videoStartTime:F}=this.state,M=a?s:void 0;return P&&(M="sm"===L?o:s),(0,E.jsxs)(m.xu,{alignItems:a?"center":void 0,display:a?"flex":void 0,height:a?"inherit":void 0,maxHeight:M,maxWidth:c,children:[(0,E.jsx)(g.Z,{unsafeCSS:_.P+k}),(0,E.jsx)(m.nk,{ref:this.setVideoPlayerRef,aspectRatio:e,autoplay:A&&T,backgroundColor:t,captions:r,controls:n,loop:void 0===l?i:l,objectFit:u,onControlsPause:this.handleUserPause,onControlsPlay:f,onDurationChange:d,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:p,onLoadedChange:h,onLoadStart:this.handleLoadStart,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:y,onPlayheadUp:b,onPlaying:this.handlePlaying,onReady:this.handleCanPlayVideo,onSeek:v,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:S,onWaiting:this.handleStalled,playbackRate:x,playing:A&&T,playsInline:D,poster:R,preload:w,src:I?C(I):void 0,startTime:F||void 0,volume:O})]})}}let D=(0,n.memo)(function(e){let{logContextEvent:t}=(0,y.v)(),{country:r,isAuthenticated:a,isBot:n,isSocialBot:o,unauthId:i,userAgent:l}=(0,c.B)(),{browserName:s,browserVersion:d,isMobile:p,raw:m}=l,{contextLogData:g={}}=e,{is_closeup_video:v=!1,view:S,viewParameter:P}=g,{appUI:{appInFocus:_}}=(0,h.I)(),{clearSeekTime:x}=(0,u.RC)(),{closeupWithinMasonryEnabled:C,peekCloseupEnabled:D,viewportSize:R}=(0,f.x4)(),w=(0,b.Z)();return(0,k.r$)({browserName:s,browserVersion:d,country:r,isAuthenticated:a,isBot:n,is_closeup_video:v,isMobile:p,isSocialBot:o,view:S,viewParameter:P}),(0,E.jsx)(T,{...e,appInFocus:_,clearSeekTime:x,closeupWithinMasonryEnabled:C,logContextEvent:t,peekCloseupEnabled:D,userAgent:m,userId:w.isAuth&&w.id||i,viewportSize:R,webBrowser:s,webBrowserVersion:d})});function R(e,t,r){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let w=void 0!==a?a:a=r(115439),I=e=>{if(Array.isArray(e)){let t=e.find(e=>"video/m3u8"===e.type);return t?t.src:void 0}return"string"==typeof e&&/m3u8$/.test(e)?e:void 0},L={getPlaylistSourceSrc:I};class O extends n.PureComponent{constructor(...e){super(...e),R(this,"componentDidUpdate",e=>{e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&this.videoPlayerRef?.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)}),R(this,"isHslVideo",()=>{let e=this.props.src?I(this.props.src):void 0;return!this.props.preferMp4&&!(0,l.G6)(this.props.requestContext.userAgent.browserName)&&!!e}),R(this,"setVideoPlayerRef",e=>{e&&(this.videoPlayerRef=e)}),R(this,"handleOnEnded",({event:e})=>{let{loop:t,onLoop:r,onEnded:a}=this.props;a&&(a({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),r&&r()))}),R(this,"handlePlaying",e=>{this.props.onPlaying&&this.props.onPlaying(e)})}render(){let{aspectRatio:e,appInFocus:t,backgroundColor:r,captions:a,toggleCaptions:n,clearSeekTime:o,contextLogData:i,controls:l,hlsConfig:s,isAutoPlay:c,loop:u,maxHeight:p,maxWidth:h,fiftyPercentHeight:f,objectFit:m,onDurationChange:y,onEnded:g,onFullscreenChange:b,onLoadedChange:v,onControlsPause:S,onControlsPlay:k,onPlayheadDown:P,onPlayheadUp:_,onReady:x,onSeek:C,onTimeChange:T,onVolumeChange:R,playbackRate:w,playing:L,playsInline:O,poster:A,preferMp4:F,preload:M,seekTime:H,src:V,styleOverrides:B,videoStartTime:N,visible:j,volume:U,variant:W}=this.props,$=V?I(V):void 0,G={...s,startPosition:N||-1},K=!g&&u;return this.isHslVideo()&&$?(0,E.jsx)(d.Z,{appInFocus:t,aspectRatio:e,backgroundColor:r,captions:a,captionsEnabled:n,clearSeekTime:o,contextLogData:i,controls:l,fiftyPercentHeight:f,hlsConfig:G,isAutoPlay:c,loop:u,loopOverride:K,maxHeight:p,maxWidth:h,objectFit:m,onControlsPause:S,onControlsPlay:k,onDurationChange:y,onEnded:this.handleOnEnded,onFullscreenChange:b,onLoadedChange:v,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:P,onPlayheadUp:_,onPlaying:this.handlePlaying,onReady:x,onSeek:C,onTimeChange:T,onVolumeChange:R,playbackRate:w,playing:L,playsInline:O,poster:A,preload:M,seekTime:H,setVideoRef:this.setVideoPlayerRef,src:$,styleOverrides:B,variant:W,visible:j,volume:U}):(0,E.jsx)(D,{aspectRatio:e,backgroundColor:r,captions:a,captionsEnabled:n,clearSeekTime:o,contextLogData:i,controls:l,fiftyPercentHeight:f,isAutoPlay:c,loop:u,loopOverride:K,maxHeight:p,maxWidth:h,objectFit:m,onControlsPause:S,onControlsPlay:k,onDurationChange:y,onEnded:this.handleOnEnded,onFullscreenChange:b,onLoadedChange:v,onPlay:()=>{},onPlayError:()=>{},onPlayheadDown:P,onPlayheadUp:_,onPlaying:this.handlePlaying,onReady:x,onSeek:C,onTimeChange:T,onVolumeChange:R,playbackRate:w,playing:L,playsInline:O,poster:A,preload:M,seekTime:H,setVideoRef:this.setVideoPlayerRef,src:F?V:$||V,styleOverrides:B,videoStartTime:N,visible:j,volume:U})}}function A(e){let{appUI:{appInFocus:t}}=(0,h.I)(),{captionsEnabled:r}=(0,p.H)(),{clearSeekTime:a}=(0,u.RC)(),n=(0,c.B)(),{closeupWithinMasonryEnabled:l}=(0,f.x4)(),{pinKey:d,seekTime:m,variant:y,objectFit:g}=e,{styleOverrides:b="",maxHeight:v,maxWidth:S,fiftyPercentHeight:k}=(0,o.pl)({objectFit:g,variant:y}),P=(0,s.Z)(w,d),{maxHeight:_}=(0,i.Z)({pinKey:P});return(0,E.jsx)(O,{...e,appInFocus:t,clearSeekTime:a,fiftyPercentHeight:k,maxHeight:l?_:v,maxWidth:S,objectFit:g,requestContext:n,seekTime:m,styleOverrides:b,toggleCaptions:r,variant:y})}},720038:(e,t,r)=>{"use strict";function a(e){let[t,r]=e.split(/\/(.*)+/);return{filepath:r||"",site:t||""}}function n(e,t){return t?`${e||""}/${t}`:`/${e||""}`}r.d(t,{ac:()=>a,ke:()=>n})},438596:(e,t,r)=>{"use strict";r.d(t,{MM:()=>i,uo:()=>l,wH:()=>o});var a=r(218291),n=r(720038);let{Provider:o,useHook:i}=(0,a.Z)("HandlerId");function l(){let e=i();return(0,n.ac)(e).site}},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=Array(t);r<t;r++)a[r]=e[r];return a},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,r)=>{var a=r(373897);e.exports=function(e){if(Array.isArray(e))return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},366115:e=>{e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},917156:e=>{function t(e,t,r,a,n,o,i){try{var l=e[o](i),s=l.value}catch(e){return void r(e)}l.done?t(s):Promise.resolve(s).then(a,n)}e.exports=function(e){return function(){var r=this,a=arguments;return new Promise(function(n,o){var i=e.apply(r,a);function l(e){t(i,n,o,l,s,"next",e)}function s(e){t(i,n,o,l,s,"throw",e)}l(void 0)})}},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,r)=>{var a=r(386116);e.exports=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,l=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){s=!0,i=e},f:function(){try{l||null==r.return||r.return()}finally{if(s)throw i}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:(e,t,r)=>{var a=r(464062);e.exports=function(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},310434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},107867:(e,t,r)=>{var a=r(206015);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,a(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,r)=>{var a=r(238416);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var r={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;r[a]=e[a]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},206015:e=>{function t(r,a){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,a)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,r)=>{var a=r(163405),n=r(379498),o=r(386116),i=r(742281);e.exports=function(e){return a(e)||n(e)||o(e)||i()},e.exports.__esModule=!0,e.exports.default=e.exports},295036:(e,t,r)=>{var a=r(918698).default;e.exports=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},464062:(e,t,r)=>{var a=r(918698).default,n=r(295036);e.exports=function(e){var t=n(e,"string");return"symbol"==a(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},918698:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,r)=>{var a=r(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/app-www-video-VideoWrapper.en_IN-3087d6dace307f9c.mjs.map